@using Microsoft.AspNet.Identity
@model IEnumerable<Doshka.Models.Ad>

@{
    ViewBag.Title = "Index";
}

<br/>
@foreach (var item in Model)
{
    <div class="col-sm-6">
        <div class="card card-block">
            <h3 class="card-title">
                @Html.DisplayFor(modelItem => item.Title) 
                
                @{
                    if (HttpContext.Current.User.IsInRole("Admin") || (string)ViewBag.UserId == item.Author.Id)
                    {
                        <a href="/Ads/Edit/@item.Id"><span class="glyphicon glyphicon-edit" style="color: black"></span></a>
                        <a href="/Ads/Delete/@item.Id"><span class="glyphicon glyphicon-remove" style="float: right; color: red"></span></a>
                    }
                }
                
            </h3>
            <p class="card-text">@Html.DisplayFor(modelItem => item.Description)</p>
            <div class="card-footer text-muted">@Html.DisplayFor(modelItem => item.Author.Email)</div>
            
        </div>
    </div>
}
